---
id: 20260131-012231-6cmi4a
timestamp: "2026-01-31T01:22:31Z"
packages:
    - shipyard
changeType: minor
---

Added version command for applying semantic version bumps

Implemented the version command to calculate and apply version bumps based on pending consignments.

## Features

- Automatic semantic version calculation from consignments
- Dependency-aware version propagation
- Updates version files across all affected packages
- Generates changelog entries
- Archives processed consignments to history before committing
- Deletes processed consignment files before committing
- Creates git commit with all changes (versions, changelogs, history, deletions)
- Creates git tags for each version
- Dry-run mode with --preview flag

## Version Bumping

- Patch: x.y.Z increments (bug fixes)
- Minor: x.Y.0 increments (new features)
- Major: X.0.0 increments (breaking changes)
- Highest change type wins per package

## Operation Order

1. Reads pending consignments from .shipyard/consignments/
2. Calculates version bumps for each package (including dependency propagation)
3. Updates version files in ecosystem-specific formats
4. Generates changelogs using configured templates
5. Archives processed consignments to history.json
6. Deletes processed consignment files
7. Stages all changes (versions, changelogs, history.json, deleted consignments)
8. Creates git commit with detailed message
9. Creates annotated git tags for each package

## Git Integration

- Creates annotated tags (e.g., v1.2.3 or core-v1.2.3)
- Commits all version-related changes atomically
- Includes history archival and consignment cleanup in commit
- Preserves git history with detailed messages

## Safety

- Preview mode shows changes without applying
- Validates all consignments before processing
- Atomic operations with rollback on failure
- Warns about uncommitted changes
- No-commit and no-tag flags for incremental workflows
